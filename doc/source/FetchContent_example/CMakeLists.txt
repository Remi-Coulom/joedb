cmake_minimum_required(VERSION 3.24)

set(CMAKE_CXX_STANDARD 17)

project(FetchContent_example)

include(FetchContent)
FetchContent_Declare(joedb URL https://www.joedb.org/joedb_10.0.5.tar.gz)
FetchContent_MakeAvailable(joedb)
include(${joedb_SOURCE_DIR}/compcmake/joedbc.cmake)

# Generate rules for the joedb compiler to produce source files
joedbc_build(src population)

add_executable(example
 src/example.cpp
 src/population/writable.cpp # This source file will be generated by joedbc
)
target_link_libraries(example joedb)
