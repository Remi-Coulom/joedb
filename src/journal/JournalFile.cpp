#include "JournalFile.h"

using namespace joedb;

/////////////////////////////////////////////////////////////////////////////
JournalFile::JournalFile(const char *file_name, bool read_only):
/////////////////////////////////////////////////////////////////////////////
 file(file_name, read_only),
 checkpoint_index(0)
{
 if (file.is_created_new())
 {
  // TODO
 }
 else
 {
  // TODO
 }
}

/////////////////////////////////////////////////////////////////////////////
void JournalFile::checkpoint()
/////////////////////////////////////////////////////////////////////////////
{
 checkpoint_index ^= 1;
}

/////////////////////////////////////////////////////////////////////////////
JournalFile::~JournalFile()
/////////////////////////////////////////////////////////////////////////////
{
 checkpoint();
}
