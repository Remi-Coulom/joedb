#include "joedb/Signal.h"

namespace joedb
{
 std::atomic<int> Signal::signal(Signal::no_signal);
 Signal Signal::the_signal;

 ////////////////////////////////////////////////////////////////////////////
 void CDECL Signal::signal_handler(int sig)
 ////////////////////////////////////////////////////////////////////////////
 {
  signal = sig;
 }

 ////////////////////////////////////////////////////////////////////////////
 Signal::Signal()
 ////////////////////////////////////////////////////////////////////////////
 {
  std::signal(SIGINT, signal_handler);
  std::signal(SIGUSR1, signal_handler);
  std::signal(SIGUSR2, signal_handler);
 }
}
