#include "joedb/error/Destructor_Logger.h"
#include "joedb/error/CLog_System_Logger.h"

namespace joedb
{
 static CLog_System_Logger default_logger("joedb destructor warning");
 Logger *Destructor_Logger::the_logger = &default_logger;

 ////////////////////////////////////////////////////////////////////////////
 void Destructor_Logger::warning(const std::string &message) noexcept
 ////////////////////////////////////////////////////////////////////////////
 {
  if (the_logger)
   the_logger->write(message);
 }

 ////////////////////////////////////////////////////////////////////////////
 void Destructor_Logger::set_logger(Logger *new_logger)
 ////////////////////////////////////////////////////////////////////////////
 {
  the_logger = new_logger;
 }

 ////////////////////////////////////////////////////////////////////////////
 void Destructor_Logger::set_logger()
 ////////////////////////////////////////////////////////////////////////////
 {
  the_logger = &default_logger;
 }

 ////////////////////////////////////////////////////////////////////////////
 void Destructor_Logger::remove_logger()
 ////////////////////////////////////////////////////////////////////////////
 {
  the_logger = nullptr;
 }
}
