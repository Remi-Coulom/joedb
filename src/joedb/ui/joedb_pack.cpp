#include "joedb/ui/dump.h"
#include "joedb/ui/process_journal_pair.h"
#include "joedb/ui/main_exception_catcher.h"

namespace joedb::ui
{
 ////////////////////////////////////////////////////////////////////////////
 static void process
 ////////////////////////////////////////////////////////////////////////////
 (
  Readonly_Journal &input,
  Writable_Journal &output,
  int64_t checkpoint
 )
 {
  pack(input, output);
 }

 ////////////////////////////////////////////////////////////////////////////
 static int main(int argc, char **argv)
 ////////////////////////////////////////////////////////////////////////////
 {
  return process_journal_pair(argc, argv, joedb::ui::process);
 }
}

/////////////////////////////////////////////////////////////////////////////
int main(int argc, char **argv)
/////////////////////////////////////////////////////////////////////////////
{
 return joedb::ui::main_exception_catcher(joedb::ui::main, argc, argv);
}
