#include "joedb/io/Journal_Pair.h"
#include "joedb/io/main_exception_catcher.h"

namespace joedb
{
 /////////////////////////////////////////////////////////////////////////////
 static void process(Readonly_Journal &input, Writable_Journal &output)
 /////////////////////////////////////////////////////////////////////////////
 {
  input.replay_log(output);
 }

 /////////////////////////////////////////////////////////////////////////////
 static int main(int argc, char **argv)
 /////////////////////////////////////////////////////////////////////////////
 {
  return process_journal_pair(argc, argv, process);
 }
}

//////////////////////////////////////////////////////////////////////////////
int main(int argc, char **argv)
//////////////////////////////////////////////////////////////////////////////
{
 return joedb::main_exception_catcher(joedb::main, argc, argv);
}
