#ifndef joedb_get_pid_declared
#define joedb_get_pid_declared

#include "joedb/journal/File.h"

/////////////////////////////////////////////////////////////////////////////
#ifdef JOEDB_FILE_IS_PORTABLE_FILE
/////////////////////////////////////////////////////////////////////////////
namespace joedb
{
 inline int get_pid()
 {
  return 0;
 }
}

/////////////////////////////////////////////////////////////////////////////
#elif defined(JOEDB_FILE_IS_WINDOWS_FILE)
/////////////////////////////////////////////////////////////////////////////
#include <processthreadsapi.h>

namespace joedb
{
 inline DWORD get_pid()
 {
  return GetCurrentProcessId();
 }
}

/////////////////////////////////////////////////////////////////////////////
#elif defined(JOEDB_FILE_IS_POSIX_FILE)
/////////////////////////////////////////////////////////////////////////////
#include <unistd.h>

namespace joedb
{   
 inline int get_pid()
 {
  return ::getpid();
 }
}
    
#endif

#endif
